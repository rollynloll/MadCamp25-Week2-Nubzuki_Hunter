{% extends "base.html" %}
{% block content %}
<section class="card">
  <h2>API Endpoints</h2>
  {% if endpoint_groups %}
  <div class="grid">
    {% for group in endpoint_groups %}
    <div class="subcard">
      <h3>{{ group.tag }}</h3>
      <ul>
        {% for endpoint in group.endpoints %}
        <li class="endpoint-item">
          <a href="/summary/endpoint/{{ endpoint.slug }}">{{ endpoint.method }} {{ endpoint.path }}</a>
          {% if endpoint.summary %}<span class="muted">{{ endpoint.summary }}</span>{% endif %}
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="muted">No endpoints found.</p>
  {% endif %}
</section>

<section class="card">
  <h2>DB Tables (public schema)</h2>
  {% if table_error %}
  <p class="muted">{{ table_error }}</p>
  {% endif %}
  {% if tables %}
  <ul>
    {% for table in tables %}
    <li><a href="/summary/tables/{{ table.name }}">{{ table.name }}</a></li>
    {% endfor %}
  </ul>
  {% else %}
  <p class="muted">No tables found.</p>
  {% endif %}
</section>
{% endblock %}
